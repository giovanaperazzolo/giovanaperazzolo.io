---
layout: page
title: Tabelas 24-08
subtitle:  BDAE62 - Atividade
---

---



## Tabela EstadoPais
```
CREATE TABLE  "ESTADOPAIS" 
   (	"ID" NUMBER, 
	"NOME" VARCHAR2(100),
	"SIGLA" VARCHAR2(2), 
	 CONSTRAINT "ESTADOPAIS_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE,
	 CONSTRAINT "ESTADOPAIS_CK01" CHECK (ID IS NOT NULL) ENABLE,
	 CONSTRAINT "ESTADOPAIS_CK02" CHECK (NOME IS NOT NULL) ENABLE, 
	 CONSTRAINT "ESTADOPAIS_CK03" CHECK (SIGLA IS NOT NULL) ENABLE, 
	 CONSTRAINT "ESTADOPAIS_UK1" UNIQUE ("NOME")
  USING INDEX  ENABLE, 
	 CONSTRAINT "ESTADOPAIS_UK2" UNIQUE ("SIGLA")
  USING INDEX  ENABLE
   )
/

CREATE OR REPLACE EDITIONABLE TRIGGER  "BI_ESTADOPAIS" 
  before insert on "ESTADOPAIS"             
  for each row  
begin 
  if :NEW."ID" is null then 
    select "ESTADOPAIS_SEQ".nextval into :NEW."ID" from sys.dual; 
  end if; 
end; 


ALTER TRIGGER  "BI_ESTADOPAIS" ENABLE

```

## Tabela Cidade 
```
CREATE TABLE  "CIDADE" 
   (	"ID" NUMBER, 
	"NOME" VARCHAR2(200), 
	"IDESTADOPAIS" NUMBER, 
	 CONSTRAINT "CIDADE_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADE_CK01" CHECK (ID IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADE_CK02" CHECK (NOME IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADE_UK01" UNIQUE ("NOME")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADE_UK02" UNIQUE ("IDESTADOPAIS")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADE_CK03" CHECK (IDESTADOPAIS IS NOT NULL) ENABLE
   )
/
ALTER TABLE  "CIDADE" ADD CONSTRAINT "CIDADE_FK" FOREIGN KEY ("IDESTADOPAIS")
	  REFERENCES  "ESTADOPAIS" ("ID") ENABLE
/

CREATE OR REPLACE EDITIONABLE TRIGGER  "BI_CIDADE" 
  before insert on "CIDADE"               
  for each row  
begin   
  if :NEW."ID" is null then 
    select "CIDADE_SEQ1".nextval into :NEW."ID" from sys.dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_CIDADE" ENABLE
/
```

## Tabela Bairro
```
CREATE TABLE  "BAIRRO" 
   (	"ID" NUMBER, 
	"NOME" VARCHAR2(200), 
	"IDCIDADE" NUMBER, 
	 CONSTRAINT "BAIRRO_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE, 
	 CONSTRAINT "BAIRRO_CK01" CHECK (ID IS NOT NULL) ENABLE, 
	 CONSTRAINT "BAIRRO_CK02" CHECK (NOME IS NOT NULL) ENABLE
   )
/
ALTER TABLE  "BAIRRO" ADD CONSTRAINT "BAIRRO_FK" FOREIGN KEY ("IDCIDADE")
	  REFERENCES  "CIDADE" ("ID") ENABLE
/

CREATE OR REPLACE EDITIONABLE TRIGGER  "BI_BAIRRO" 
  before insert on "BAIRRO"               
  for each row  
begin   
  if :NEW."ID" is null then 
    select "BAIRRO_SEQ".nextval into :NEW."ID" from sys.dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_BAIRRO" ENABLE
/
```

## Tabela Ponto de Coleta
```
CREATE TABLE  "PONTOCOLETA" 
   (	"ID" NUMBER, 
	"NOME" VARCHAR2(200), 
	"IDBAIRRO" NUMBER, 
	 CONSTRAINT "PONTOCOLETA_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE, 
	 CONSTRAINT "PONTOCOLETA_CK01" CHECK (ID IS NOT NULL) ENABLE, 
	 CONSTRAINT "PONTOCOLETA_CK02" CHECK (NOME IS NOT NULL) ENABLE, 
	 CONSTRAINT "PONTOCOLETA_CK03" CHECK (IDBAIRRO IS NOT NULL) ENABLE, 
	 CONSTRAINT "PONTOCOLETA_UK01" UNIQUE ("NOME")
  USING INDEX  ENABLE, 
	 CONSTRAINT "PONTOCOLETA_UK02" UNIQUE ("IDBAIRRO")
  USING INDEX  ENABLE
   )
/
ALTER TABLE  "PONTOCOLETA" ADD CONSTRAINT "PONTOCOLETA_FK" FOREIGN KEY ("IDBAIRRO")
	  REFERENCES  "BAIRRO" ("ID") ENABLE
/

CREATE OR REPLACE EDITIONABLE TRIGGER  "BI_PONTOCOLETA" 
  before insert on "PONTOCOLETA"               
  for each row  
begin   
  if :NEW."ID" is null then 
    select "PONTOCOLETA_SEQ".nextval into :NEW."ID" from sys.dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_PONTOCOLETA" ENABLE
/

```

## Tabela Unidade de Medida
```
CREATE TABLE  "UNIDADEMEDIDA" 
   (	"ID" NUMBER, 
	"NOME" VARCHAR2(200), 
	"SIGLA" VARCHAR2(2), 
	 CONSTRAINT "UNIDADEMEDIDA_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE, 
	 CONSTRAINT "UNIDADEMEDIDA_CK01" CHECK (ID IS NOT NULL) ENABLE, 
	 CONSTRAINT "UNIDADEMEDIDA_CK02" CHECK (NOME IS NOT NULL) ENABLE, 
	 CONSTRAINT "UNIDADEMEDIDA_CK03" CHECK (SIGLA IS NOT NULL) ENABLE, 
	 CONSTRAINT "UNIDADEMEDIDA_UK01" UNIQUE ("NOME")
  USING INDEX  ENABLE, 
	 CONSTRAINT "UNIDADEMEDIDA_UK02" UNIQUE ("SIGLA")
  USING INDEX  ENABLE
   )
/

CREATE OR REPLACE EDITIONABLE TRIGGER  "BI_UNIDADEMEDIDA" 
  before insert on "UNIDADEMEDIDA"               
  for each row  
begin   
  if :NEW."ID" is null then 
    select "UNIDADEMEDIDA_SEQ".nextval into :NEW."ID" from sys.dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_UNIDADEMEDIDA" ENABLE
/

```

## Tabela Tipo Resíduo
```
CREATE TABLE  "TIPORESIDUO" 
   (	"ID" NUMBER, 
	"NOME" VARCHAR2(200), 
	"IDUNIDADEMEDIDA" NUMBER, 
	 CONSTRAINT "TIPORESIDUO_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE, 
	 CONSTRAINT "TIPORESIDUO_CK01" CHECK (ID IS NOT NULL) ENABLE, 
	 CONSTRAINT "TIPORESIDUO_CK02" CHECK (NOME IS NOT NULL) ENABLE
   )
/

CREATE OR REPLACE EDITIONABLE TRIGGER  "BI_TIPORESIDUO" 
  before insert on "TIPORESIDUO"               
  for each row  
begin   
  if :NEW."ID" is null then 
    select "TIPORESIDUO_SEQ".nextval into :NEW."ID" from sys.dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_TIPORESIDUO" ENABLE
/

```

## Tabela Cidadão
```
CREATE TABLE  "CIDADAO" 
   (	"ID" NUMBER, 
	"PRIMEIRONOME" VARCHAR2(100), 
	"NOMEMEIO" VARCHAR2(100), 
	"ULTIMONOME" VARCHAR2(100), 
	"EMAIL" VARCHAR2(100), 
	"TELEFONE" VARCHAR2(13), 
	"DATANASCIMENTO" DATE, 
	"SENHA" VARCHAR2(60), 
	"GENERO" VARCHAR2(1), 
	"IDBAIRRO" NUMBER, 
	 CONSTRAINT "CIDADAO_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADAO_CK01" CHECK (ID IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADAO_CK02" CHECK (PRIMEIRONOME IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADAO_CK03" CHECK (NOMEMEIO IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADAO_CK04" CHECK (ULTIMONOME IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADAO_CK05" CHECK (EMAIL IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADAO_CK06" CHECK (TELEFONE IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADAO_CK07" CHECK (DATANASCIMENTO IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADAO_CK08" CHECK (SENHA IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADAO_CK09" CHECK (GENERO IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADAO_CK10" CHECK (IDBAIRRO IS NOT NULL) ENABLE, 
	 CONSTRAINT "CIDADAO_UK01" UNIQUE ("PRIMEIRONOME")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADAO_UK02" UNIQUE ("NOMEMEIO")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADAO_UK03" UNIQUE ("ULTIMONOME")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADAO_UK04" UNIQUE ("EMAIL")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADAO_UK05" UNIQUE ("TELEFONE")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADAO_UK06" UNIQUE ("DATANASCIMENTO")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADAO_UK07" UNIQUE ("SENHA")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADAO_UK08" UNIQUE ("GENERO")
  USING INDEX  ENABLE, 
	 CONSTRAINT "CIDADAO_UK09" UNIQUE ("IDBAIRRO")
  USING INDEX  ENABLE
   )
/
ALTER TABLE  "CIDADAO" ADD CONSTRAINT "CIDADAO_FK" FOREIGN KEY ("IDBAIRRO")
	  REFERENCES  "BAIRRO" ("ID") ENABLE
/

CREATE OR REPLACE EDITIONABLE TRIGGER  "BI_CIDADAO" 
  before insert on "CIDADAO"               
  for each row  
begin   
  if :NEW."ID" is null then 
    select "CIDADAO_SEQ".nextval into :NEW."ID" from sys.dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_CIDADAO" ENABLE
/

```

## Tabela Resíduo
```
CREATE TABLE  "RESIDUO" 
   (	"ID" NUMBER, 
	"DATAENTREGA" DATE, 
	"QUANTIDADE" NUMBER, 
	"IDCIDADAO" NUMBER, 
	"IDPONTOCOLETA" NUMBER, 
	"IDTIPORESIDUO" NUMBER, 
	 CONSTRAINT "RESIDUO_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE, 
	 CONSTRAINT "RESIDUO_CK01" CHECK (ID IS NOT NULL) ENABLE, 
	 CONSTRAINT "RESIDUO_CK02" CHECK (DATAENTREGA IS NOT NULL) ENABLE, 
	 CONSTRAINT "RESIDUO_CK03" CHECK (QUANTIDADE IS NOT NULL) ENABLE, 
	 CONSTRAINT "RESIDUO_CK04" CHECK (IDCIDADAO IS NOT NULL) ENABLE, 
	 CONSTRAINT "RESIDUO_CK05" CHECK (IDPONTOCOLETA IS NOT NULL) ENABLE, 
	 CONSTRAINT "RESIDUO_CK06" CHECK (IDTIPORESIDUO IS NOT NULL) ENABLE, 
	 CONSTRAINT "RESIDUO_UK01" UNIQUE ("DATAENTREGA")
  USING INDEX  ENABLE, 
	 CONSTRAINT "RESIDUO_UK02" UNIQUE ("QUANTIDADE")
  USING INDEX  ENABLE, 
	 CONSTRAINT "RESIDUO_UK03" UNIQUE ("IDCIDADAO")
  USING INDEX  ENABLE, 
	 CONSTRAINT "RESIDUO_UK04" UNIQUE ("IDPONTOCOLETA")
  USING INDEX  ENABLE, 
	 CONSTRAINT "RESIDUO_UK05" UNIQUE ("IDTIPORESIDUO")
  USING INDEX  ENABLE
   )
/
ALTER TABLE  "RESIDUO" ADD CONSTRAINT "RESIDUO_FK01" FOREIGN KEY ("IDCIDADAO")
	  REFERENCES  "CIDADAO" ("ID") ENABLE
/
ALTER TABLE  "RESIDUO" ADD CONSTRAINT "RESIDUO_FK02" FOREIGN KEY ("IDPONTOCOLETA")
	  REFERENCES  "PONTOCOLETA" ("ID") ENABLE
/
ALTER TABLE  "RESIDUO" ADD CONSTRAINT "RESIDUO_FK03" FOREIGN KEY ("IDTIPORESIDUO")
	  REFERENCES  "TIPORESIDUO" ("ID") ENABLE
/

CREATE OR REPLACE EDITIONABLE TRIGGER  "BI_RESIDUO" 
  before insert on "RESIDUO"               
  for each row  
begin   
  if :NEW."ID" is null then 
    select "RESIDUO_SEQ1".nextval into :NEW."ID" from sys.dual; 
  end if; 
end; 

/
ALTER TRIGGER  "BI_RESIDUO" ENABLE
/

```


